<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Making your first Phaser 3 Game - Part 1</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
    <style type="text/css">
      body {
        margin: 0;
      }
    </style>
  </head>
  <body>
    <script type="text/javascript">
      const config = {
        type: Phaser.AUTO,
        width: 800,
        height: 600,
        physics: {
          default: "arcade",
          arcade: {
            gravity: { y: 300 },
            debug: false,
          },
        },
        scene: {
          preload: preload,
          create: create,
          update: update,
        },
      };
      let slotmachine = false
      let slotText = new Array(3)
      const game = new Phaser.Game(config);

      function preload() {
        this.load.image('sky', 'assets/sky.png')
        this.load.image('button', 'assets/platform.png')
      }


      function create() {
        this.add.image(400, 300, 'sky')

        this.clickButton = this.add.image(this.cameras.main.centerX, this.cameras.main.centerY+200, 'button')
        .setInteractive()
        .on('pointerdown', () => {
            if(slotmachine == true){
                for (let step = 0; step < 3; step++) {
                    slotText[step].destroy()
                }  
                slotmachine = false
            }
            for (let step = 0; step < 3; step++) {
                slotText[step] = this.add.text(300 + (step*100), 300, createRandom())
            }   

            // slotText = this.add.text(300 + (0*100), 300, createRandom())
            // slotText2 = this.add.text(300 + (1*100), 300, createRandom())
            // slotText3 = this.add.text(300 + (2*100), 300, createRandom())

            console.log(slotText[0].text, slotText[1].text, slotText[2].text)
            slotmachine = true


        });
      }

      function update() {

      }

      function createRandom(rnd){
          return Phaser.Math.Between(1, 15)
      }

    </script>
  </body>
</html>
